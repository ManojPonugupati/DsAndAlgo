package arrays;

public class MaxDiffIndex {
    static int max(int x, int y) {
        return x > y ? x : y;
    }

    static int min(int x, int y) {
        return x < y ? x : y;
    }

    public static void main(String[] args) {
       // int[] arr = {99, 36, 24, 91, 92, 45, 90, 41, 49, 85, 24, 64, 29, 24, 24, 60, 77, 81, 45, 58, 19, 88, 91, 25, 27, 71, 63, 24, 17, 4, 35, 67, 91, 10, 57, 82, 54, 98, 22, 3, 34, 97, 18, 62, 73, 41, 73, 1, 21, 18, 58, 39, 57, 100, 63, 35, 70, 78, 10, 38, 33, 96, 5, 23, 6, 13, 4, 11, 63, 77, 13, 48, 25, 30, 62, 49, 22, 86, 49, 94, 3, 58, 85, 12, 57, 99, 98, 27, 28, 8, 64, 60, 3, 20, 82, 8, 85, 37, 71, 47, 65, 83, 94, 42, 65, 7, 90, 38, 93, 39, 32, 47, 96, 68, 58, 53, 66, 56, 31, 94, 15, 46, 53, 17, 66, 87, 77, 2, 23, 47, 48, 40, 81, 93, 81, 97, 100, 70, 35, 92, 60, 18, 38, 8, 85, 48, 60, 50, 55, 42, 43, 69, 87, 48, 37, 4, 34, 65, 5, 8, 11, 52, 47, 44, 97, 79, 40, 48, 1, 74, 91, 12, 91, 80, 19, 75, 27, 30, 77, 33, 71, 71, 53, 58, 18, 90, 61, 3, 54, 66, 11, 17, 69, 9, 60, 65, 88, 51, 64, 40, 25, 54, 51, 67, 34, 70, 94, 12, 99, 70, 45, 70, 92, 97, 79, 10, 38, 39, 12, 92, 56, 74, 60, 25, 83, 71, 41, 22, 21, 5, 61, 97, 58, 63, 64, 43, 32, 9, 55, 83, 30, 51, 4, 21, 47, 82, 82, 37, 72, 46, 28, 28, 19, 39, 52, 53, 9, 44, 74, 81, 48, 86, 78, 58, 49, 93, 52, 32, 1, 6, 14, 82, 8, 17, 2, 55, 50, 36, 91, 22, 81, 70, 49, 99, 60, 52, 52, 68, 95, 77, 100, 95, 15, 77, 4, 15, 69, 55, 46, 21, 13, 12, 2, 20, 80, 56, 26, 30, 91, 68, 51, 71, 89, 51, 21, 48, 2, 72, 67, 48, 1, 67, 42, 15, 43, 97, 29, 64, 52, 26, 84, 16, 37, 38, 35, 69, 45, 61, 98, 35, 80, 100, 57, 69, 2, 77, 16, 3, 1, 35, 2, 1, 1, 96, 15, 95, 92, 95, 10, 95, 20, 94, 10, 57, 83, 45, 25, 27, 57, 74, 13, 36, 25, 69, 56, 26, 45, 72, 80, 97, 58, 81, 97, 58, 76, 63, 4, 20, 57, 14, 14, 77, 59, 24, 85, 41, 20, 61, 19, 76, 86, 31, 63, 10, 99, 19, 87, 95, 42, 18, 44, 99};
        int[] arr = {34 ,8, 10, 3, 2, 80, 30, 33, 1};
       // int[] arr = {87,78,16,94,36,87,93,50,22,63,28,91,60,64,27,41,27,73,37,12,69,68,30,83,31,63,24,68,36,30,3,23,59,70,68,94,57,12,43,30,74,22,20,85,38,99,25,16,71,14,27,92,81,57,74,63,71,97,82,6,26,85,28,37,6,47,30,14,58,25,96,83,46,15,68,35,65,44,51,88,9,77,79,89,85,4,52,55,100,33,61,77,69,40,13,27,87,95,40,96,71,35,79,68,2,98,3,18,93,53,57,2,81,87,42,66,90,45,20,41,30,32,18,98,72,82,76,10,28,68,57,98,54,87,66,7,84,20,25,29,72,33,30,4,20,71,69,9,16,41,50,97,24,19,46,47,52,22,56,80,89,65,29,42,51,94,1,35,65,25,15,88,57,44,92,28,66,60,37,33,52,38,29,76,8,75,22,59,96,30,38,36,94,19,29,44,12,29,30,77,5,44,64,14,39,7,41,5,19,29,89,70,18,18,97,25,44,71,84,91,100,73,26,45,91,6,40,55,87,70,83,43,65,98,8,56,5,49,12,23,29,100,44,47,69,41,23,12,11,6,2,62,31,79,6,21,37,45,27,23,66,9,17,83,59,25,38,63,25,1,37,53,100,80,51,69,72,74,32,82,31,34,95,61,64,100,82,100,97,60,74,14,69,91,96,27,67,85,41,91,85,77,43,37,8,46,57,80,19,88,13,49,73,60,10,37,11,43,88,7,2,14,73,22,56,20,100,22,5,40,12,41,68,6,29,28,51,85,59,21,25,23,70,97,82,31,85,93,73,73,51,26,86,23,100,41,43,99,14,99,91,25,91,10,82,20,37,33,56,95,5,80,70,74,77,51,56,61,43,80,85,94,6,22};
        System.out.println(maxIndexDiff(arr, arr.length));
    }

    static int maxIndexDiff(int[] arr, int n) {
        {
            int maxDiff;
            int i, j;

            int RMax[] = new int[n];
            int LMin[] = new int[n];

            LMin[0] = arr[0];
            for (i = 1; i < n; ++i)
                LMin[i] = min(arr[i], LMin[i - 1]);

            RMax[n - 1] = arr[n - 1];
            for (j = n - 2; j >= 0; --j)
                RMax[j] = max(arr[j], RMax[j + 1]);

            i = 0; j = 0; maxDiff = 0;
            while (j < n && i < n)
            {
                if (LMin[i] <= RMax[j])
                {
                    maxDiff = max(maxDiff, j - i);
                    j = j + 1;
                }
                else
                    i = i + 1;
            }

            return maxDiff;
        }

    }
}

